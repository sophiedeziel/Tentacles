{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/ui/App.css","webpack:///./app/ui/index.tsx","webpack:///./app/ui/server.js","webpack:///./node_modules/@shopify/async/build/esnext/index.esnext","webpack:///./node_modules/@shopify/async/build/esnext/resolver.esnext","webpack:///./node_modules/@shopify/async/build/esnext/types.esnext","webpack:///./node_modules/@shopify/async/index.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/EventListener.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/PrefetchRoute.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/Prefetcher.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/component.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/context/assets.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/context/prefetch.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/hooks.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/index.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/provider.esnext","webpack:///./node_modules/@shopify/react-async/build/esnext/types.esnext","webpack:///./node_modules/@shopify/react-async/index.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/index.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/logger/logger.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/metrics/metrics.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/ping/ping.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/quilt-data/middleware.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/render/error/fallback-error-markup.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/render/render.esnext","webpack:///./node_modules/@shopify/react-server/build/esnext/server/server.esnext","webpack:///./node_modules/@shopify/react-server/index.esnext","webpack:///./node_modules/source-map-support/register.js","webpack:///./node_modules/source-map-support/source-map-support.js","webpack:///(webpack)/buildin/module.js","webpack:///external \"@shopify/network\"","webpack:///external \"@shopify/react-effect\"","webpack:///external \"@shopify/react-effect/server\"","webpack:///external \"@shopify/react-hooks\"","webpack:///external \"@shopify/react-html\"","webpack:///external \"@shopify/react-html/server\"","webpack:///external \"@shopify/react-hydrate\"","webpack:///external \"@shopify/react-idle\"","webpack:///external \"@shopify/react-intersection-observer\"","webpack:///external \"@shopify/react-network\"","webpack:///external \"@shopify/react-network/server\"","webpack:///external \"@shopify/sewing-kit-koa\"","webpack:///external \"antd\"","webpack:///external \"buffer-from\"","webpack:///external \"chalk\"","webpack:///external \"cross-fetch\"","webpack:///external \"fs\"","webpack:///external \"koa\"","webpack:///external \"koa-compose\"","webpack:///external \"koa-mount\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"source-map\""],"names":["App","process","on","logError","error","errorLog","stack","message","console","log","exit","render","ctx","React","createElement","url","request","URL","data","state","quiltData","app","port","undefined","ip","assetPrefix","proxy","createResolver","id","load","resolved","resolvePromise","hasTriedSyncResolve","resolvedId","trySynchronousResolve","resolve","normalize","module","value","default","requireKey","nodeRequire","global","tryRequire","__webpack_modules__","__webpack_require__","DeferTiming","EventListener","PureComponent","componentDidMount","attachListener","componentDidUpdate","passive","detachProps","detachListener","componentWillUnmount","event","handler","capture","props","window","addEventListener","prevProps","removeEventListener","ConnectedPrefetchRoute","Component","constructor","args","unregister","manager","path","register","PrefetchRoute","PrefetchContext","Consumer","Object","assign","INTENTION_DELAY_MS","ConnectedPrefetcher","timeout","timeoutUrl","prefetchAgressively","shouldPrefetchAggressively","handlePressStart","target","clearTimeout","closestUrlFromNode","setState","handlePointerLeave","relatedTarget","closestUrl","relatedUrl","urlsEqual","handlePointerEnter","setTimeout","preloadMarkup","style","visibility","findMatches","registered","map","index","key","expensiveListeners","Fragment","Prefetcher","navigator","connection","saveData","first","second","href","records","filter","match","matches","matcher","pathname","test","element","HTMLElement","closest","getAttribute","location","createAsyncComponent","defer","deferHydration","displayName","renderLoading","noopRender","renderError","defaultRenderError","usePreload","useCustomPreload","noopUse","usePrefetch","useCustomPrefetch","useKeepFresh","useCustomKeepFresh","resolver","componentName","displayNameFromId","deferred","progressivelyHydrated","scriptTiming","AssetTiming","CurrentPage","Immediate","stylesTiming","Async","loading","scripts","styles","immediate","current","startedHydrated","hydrated","loadingMarkup","Loader","contentMarkup","rendered","Hydrator","assets","NextPage","customPreload","customPrefetch","customKeepFresh","Preload","options","Prefetch","prefetch","KeepFresh","FinalComponent","Reflect","defineProperty","writable","DEFAULT_DISPLAY_NAME","FILENAME_REGEX","exec","handleIntersection","isIntersecting","Mount","Idle","OnIdle","perform","InViewport","IntersectionObserver","threshold","onIntersectionChange","EFFECT_ID","Symbol","AsyncAssetManager","effect","betweenEachPass","clear","Map","used","timing","timingArray","Array","isArray","asset","scriptsMatch","includes","stylesMatch","push","markAsUsed","get","set","Math","max","AsyncAssetContext","createContext","PrefetchManager","Set","registration","add","delete","preloadable","prefetchable","keepFreshable","useAsync","setValue","mounted","useAsyncAsset","Error","async","createAsyncContext","Context","Root","Provider","preload","LOGGER","PREFIX","chalk","underline","Logger","buffer","logger","setLogger","getLogger","initialRequestMessage","requestMethod","method","toUpperCase","Date","toISOString","endRequestMessage","requestDuration","httpStatus","status","duration","toFixed","endRequest","logObject","datetime","http_method","http_response","http_status","hostname","ips","request_id","header","uri","originalUrl","user_agent","Header","UserAgent","payload","JSON","stringify","requestStartTime","hrtime","ms","round","requestLogger","next","MILLIS_PER_SECOND","NANOS_PER_MILLIS","START_TIME_STATE_KEY","startRequestTiming","middleware","seconds","nanoseconds","requestTime","uiMetrics","metricsMiddleware","ping","StatusCode","Ok","body","HEADER","quiltDataMiddleware","rawQuiltData","headers","parse","fallbackErrorMarkup","createRender","render$1","manifestPath","getManifestPath","cwd","assetName","assetNameInput","renderRawErrorMessage","htmlProps","htmlPropsInput","renderFunction","additionalScripts","additionalStyles","additionalHtmlProps","networkManager","NetworkManager","cookies","cookie","htmlManager","HtmlManager","asyncAssetManager","hydrationManager","HydrationManager","Providers","children","Serialize","HydrationContext","NetworkContext","decorate","HtmlContext","afterEachPass","renderDuration","resolveDuration","finished","pass","rendering","resolving","immediateAsyncAssets","Promise","all","name","asyncAssets","response","Html","ContentType","errorMessage","InternalServerError","quiltError","throw","root","gemFileExists","createServer","env","REACT_SERVER_IP","REACT_SERVER_PORT","parseInt","CDN_URL","serverMiddleware","Koa","use","listen"],"mappings":"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AAChCsN,UAAM,CAACrO,GAAP,CAAY,2BAA0Be,EAAG,IAAGF,IAAK,EAAjD;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;;;;;;;ACrDD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;;;;;;ACAA,mBAAO,CAAC,mEAAI;;;;;;;;;;;;ACAZ,sEAAwB,mBAAO,CAAC,8BAAY;AAC5C,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA,OAAO,mBAAO,CAAC,cAAI;AACnB;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA,iBAAiB,mBAAO,CAAC,gCAAa;;AAEtC;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,YAAY,kBAAkB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0DAA0D,gCAAgC,EAAE;AAC5F,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2DAA2D,GAAG,sBAAsB,GAAG;AACvF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wBAAwB;AAC5D,sCAAsC,sBAAsB;AAC5D,wCAAwC,4BAA4B;AACpE,iDAAiD,wBAAwB;AACzE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAsC,eAAe;AACrD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe;AACf;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,2FAA2F,oBAAoB;AAC/G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AChnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA,6C;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,uC","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8080/webpack/assets/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// Exports\nmodule.exports = {\n\n};\n","import React from 'react';\nimport { Button } from 'antd';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Button type=\"primary\">Button</Button>\n    </div>\n  )\n}\n\nexport default App;\n","\n    \n  // Generated by @shopify/react-server/webpack-plugin\n\n    import React from 'react';\n    import {createServer} from '@shopify/react-server';\n\n    import App from 'index';\n\n    \n\n    process.on('uncaughtException', logError);\n    process.on('unhandledRejection', logError);\n    function logError(error) {\n      const errorLog = `${error.stack || error.message || 'No stack trace was present'}`;\n      console.log(`React Server failed to start.\n${errorLog}`);\n      process.exit(1);\n    }\n\n    const render = (ctx) => {\n      return React.createElement(App, {\n        url: ctx.request.URL,\n        data: ctx.state.quiltData,\n      });\n    }\n\n    const app = createServer({\n      port: undefined,\n      ip: undefined,\n      assetPrefix: \"http://localhost:8080/webpack/assets/\",\n      proxy: true,\n      render,\n      \n    });\n\n    export default app;\n  ","export { DeferTiming } from './types.esnext';\nexport { createResolver } from './resolver.esnext';\n","function createResolver({\n  id,\n  load\n}) {\n  let resolved = null;\n  let resolvePromise = null;\n  let hasTriedSyncResolve = false;\n  const resolvedId = id && id();\n  return {\n    get id() {\n      return resolvedId;\n    },\n\n    get resolved() {\n      if (resolved == null && !hasTriedSyncResolve) {\n        hasTriedSyncResolve = true;\n        resolved = resolvedId ? trySynchronousResolve(resolvedId) : null;\n      }\n\n      return resolved;\n    },\n\n    resolve: async () => {\n      resolvePromise = resolvePromise || resolve(load);\n      resolved = await resolvePromise;\n      return resolved;\n    }\n  };\n}\n\nasync function resolve(load) {\n  const resolved = await load();\n  return normalize(resolved);\n}\n\nfunction normalize(module) {\n  if (module == null) {\n    return null;\n  }\n\n  const value = typeof module === 'object' && 'default' in module ? module.default : module;\n  return value == null ? null : value;\n}\n\n// Webpack does not like seeing an explicit require(someVariable) in code\n// because that is a dynamic require that it can’t resolve. This code\n// obfuscates `require()` for the purpose of fooling Webpack, which is fine\n// because we only want to use the `require()` in cases where Webpack\n// is not the module bundler.\n//\n// If we ever reference `require` directly, Webpack complains. So, we first\n// check global[\"require\"], which works in Node. However, this doesn’t work\n// in Jest when the test is set to simulate a browser, as global in that case\n// in a Window object. There, we can only rely on module.require, which is\n// actually supposed to be something different but in Jest is the same as\n// the global require function.\nconst requireKey = 'require';\nconst nodeRequire = typeof global === 'object' && typeof global[requireKey] === 'function' && global[requireKey] || typeof module === 'object' && typeof module[requireKey] === 'function' && module[requireKey] || undefined; // If we have an ID, we try to first use Webpack’s internal stuff\n// to resolve the module. If those don’t exist, we know we aren’t\n// inside of a Webpack bundle, so we try to use Node’s native resolution\n// (which will work in environments like Jest’s test runner).\n\nfunction tryRequire(id) {\n  if (typeof __webpack_require__ === 'function' && typeof __webpack_modules__ === 'object' && __webpack_modules__[id]) {\n    try {\n      return normalize(__webpack_require__(id));\n    } catch {// Just ignore failures\n    }\n  } else if (typeof nodeRequire === 'function') {\n    try {\n      return normalize(nodeRequire(id));\n    } catch {// Just ignore failures\n    }\n  }\n\n  return undefined;\n}\n\nfunction trySynchronousResolve(id) {\n  return tryRequire(id) || null;\n}\n\nexport { createResolver };\n","let DeferTiming;\n\n(function (DeferTiming) {\n  DeferTiming[DeferTiming[\"Mount\"] = 0] = \"Mount\";\n  DeferTiming[DeferTiming[\"Idle\"] = 1] = \"Idle\";\n  DeferTiming[DeferTiming[\"InViewport\"] = 2] = \"InViewport\";\n})(DeferTiming || (DeferTiming = {}));\n\nexport { DeferTiming };\n","export * from \"./build/esnext/index.esnext\";","import React from 'react';\n\n// see https://github.com/oliviertassinari/react-event-listener/\nclass EventListener extends React.PureComponent {\n  componentDidMount() {\n    this.attachListener();\n  }\n\n  componentDidUpdate({\n    passive,\n    ...detachProps\n  }) {\n    this.detachListener(detachProps);\n    this.attachListener();\n  }\n\n  componentWillUnmount() {\n    this.detachListener();\n  }\n\n  render() {\n    return null;\n  }\n\n  attachListener() {\n    const {\n      event,\n      handler,\n      capture,\n      passive\n    } = this.props;\n    window.addEventListener(event, handler, {\n      capture,\n      passive\n    });\n  }\n\n  detachListener(prevProps) {\n    const {\n      event,\n      handler,\n      capture\n    } = prevProps || this.props;\n    window.removeEventListener(event, handler, capture);\n  }\n\n}\n\nexport { EventListener };\n","import React from 'react';\nimport { PrefetchContext } from './context/prefetch.esnext';\n\nclass ConnectedPrefetchRoute extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.unregister = void 0;\n  }\n\n  componentDidMount() {\n    const {\n      manager,\n      path,\n      render\n    } = this.props;\n    this.unregister = manager.register({\n      path,\n      render\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unregister) {\n      this.unregister();\n    }\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nfunction PrefetchRoute(props) {\n  return /*#__PURE__*/React.createElement(PrefetchContext.Consumer, null, manager => /*#__PURE__*/React.createElement(ConnectedPrefetchRoute, Object.assign({\n    manager: manager\n  }, props)));\n}\n\nexport { PrefetchRoute };\n","import React from 'react';\nimport { PrefetchContext } from './context/prefetch.esnext';\nimport { EventListener } from './EventListener.esnext';\n\nconst INTENTION_DELAY_MS = 150;\n\nclass ConnectedPrefetcher extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n    this.timeout = void 0;\n    this.timeoutUrl = void 0;\n    this.prefetchAgressively = shouldPrefetchAggressively();\n\n    this.handlePressStart = ({\n      target\n    }) => {\n      this.clearTimeout();\n\n      if (target == null) {\n        return;\n      }\n\n      const url = closestUrlFromNode(target);\n\n      if (url != null) {\n        this.setState({\n          url\n        });\n      }\n    };\n\n    this.handlePointerLeave = ({\n      target,\n      relatedTarget\n    }) => {\n      const {\n        url\n      } = this.state;\n      const {\n        timeout,\n        timeoutUrl\n      } = this;\n\n      if (target == null) {\n        if (timeout) {\n          this.clearTimeout();\n        }\n\n        return;\n      }\n\n      if (url == null && timeout == null) {\n        return;\n      }\n\n      const closestUrl = closestUrlFromNode(target);\n      const relatedUrl = relatedTarget && closestUrlFromNode(relatedTarget);\n\n      if (timeout != null && urlsEqual(closestUrl, timeoutUrl) && !urlsEqual(relatedUrl, timeoutUrl)) {\n        this.clearTimeout();\n      }\n\n      if (urlsEqual(closestUrl, url) && !urlsEqual(relatedUrl, url)) {\n        this.setState({\n          url: undefined\n        });\n      }\n    };\n\n    this.handlePointerEnter = ({\n      target\n    }) => {\n      if (target == null) {\n        return;\n      }\n\n      const {\n        timeoutUrl,\n        timeout\n      } = this;\n      const url = closestUrlFromNode(target);\n\n      if (url == null) {\n        return;\n      }\n\n      if (timeout) {\n        if (urlsEqual(url, timeoutUrl)) {\n          return;\n        } else {\n          this.clearTimeout();\n        }\n      }\n\n      this.timeoutUrl = url;\n      this.timeout = setTimeout(() => {\n        this.clearTimeout();\n        this.setState({\n          url\n        });\n      }, INTENTION_DELAY_MS);\n    };\n  }\n\n  render() {\n    const {\n      url\n    } = this.state;\n    const {\n      manager\n    } = this.props;\n    const preloadMarkup = url ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        visibility: 'hidden'\n      }\n    }, findMatches(manager.registered, url).map(({\n      render,\n      path\n    }, index) => {\n      // eslint-disable-next-line react/no-array-index-key\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: `${path}${index}`\n      }, render(url));\n    })) : null;\n    const expensiveListeners = this.prefetchAgressively ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"mouseover\",\n      handler: this.handlePointerEnter\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"focusin\",\n      handler: this.handlePointerEnter\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"mouseout\",\n      handler: this.handlePointerLeave\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"focusout\",\n      handler: this.handlePointerLeave\n    })) : null;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"mousedown\",\n      handler: this.handlePressStart\n    }), /*#__PURE__*/React.createElement(EventListener, {\n      passive: true,\n      event: \"touchstart\",\n      handler: this.handlePressStart\n    }), expensiveListeners, preloadMarkup);\n  }\n\n  clearTimeout() {\n    if (this.timeout != null) {\n      clearTimeout(this.timeout);\n      this.timeout = undefined;\n      this.timeoutUrl = undefined;\n    }\n  }\n\n}\n\nfunction Prefetcher(props) {\n  return /*#__PURE__*/React.createElement(PrefetchContext.Consumer, null, manager => /*#__PURE__*/React.createElement(ConnectedPrefetcher, Object.assign({}, props, {\n    manager: manager\n  })));\n}\n\nfunction shouldPrefetchAggressively() {\n  return typeof navigator === 'undefined' || !('connection' in navigator) || !navigator.connection.saveData;\n}\n\nfunction urlsEqual(first, second) {\n  return first == null && first === second || first != null && second != null && first.href === second.href;\n}\n\nfunction findMatches(records, url) {\n  return [...records].filter(({\n    path: match\n  }) => matches(url, match));\n}\n\nfunction matches(url, matcher) {\n  return typeof matcher === 'string' ? matcher === url.pathname : matcher.test(url.pathname);\n}\n\nfunction closestUrlFromNode(element) {\n  if (!(element instanceof HTMLElement)) {\n    return undefined;\n  } // data-href is a hack for resource list doing the <a> as a sibling\n\n\n  const closestUrl = element.closest('[href], [data-href]');\n\n  if (closestUrl == null || !(closestUrl instanceof HTMLElement)) {\n    return undefined;\n  }\n\n  const url = closestUrl.getAttribute('href') || closestUrl.getAttribute('data-href');\n\n  try {\n    return url ? new URL(url, window.location.href) : undefined;\n  } catch (error) {\n    return undefined;\n  }\n}\n\nexport { INTENTION_DELAY_MS, Prefetcher };\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { createResolver, DeferTiming } from '@shopify/async';\nimport { IntersectionObserver } from '@shopify/react-intersection-observer';\nimport { useIdleCallback, OnIdle } from '@shopify/react-idle';\nimport { useHydrationManager, Hydrator } from '@shopify/react-hydrate';\nimport { useAsync } from './hooks.esnext';\nimport { AssetTiming } from './types.esnext';\n\nfunction createAsyncComponent({\n  id,\n  load,\n  defer,\n  deferHydration,\n  displayName,\n  renderLoading = noopRender,\n  renderError = defaultRenderError,\n  usePreload: useCustomPreload = noopUse,\n  usePrefetch: useCustomPrefetch = noopUse,\n  useKeepFresh: useCustomKeepFresh = noopUse\n}) {\n  const resolver = createResolver({\n    id,\n    load\n  });\n  const componentName = displayName || displayNameFromId(resolver.id);\n  const deferred = defer != null;\n  const progressivelyHydrated = deferHydration != null;\n  const scriptTiming = deferred || progressivelyHydrated ? AssetTiming.CurrentPage : AssetTiming.Immediate;\n  const stylesTiming = deferred ? AssetTiming.CurrentPage : AssetTiming.Immediate;\n\n  function Async(props) {\n    const {\n      resolved: Component,\n      load,\n      loading,\n      error\n    } = useAsync(resolver, {\n      scripts: scriptTiming,\n      styles: stylesTiming,\n      immediate: !deferred\n    });\n    const {\n      current: startedHydrated\n    } = useRef(useHydrationManager().hydrated);\n\n    if (error) {\n      return renderError(error);\n    }\n\n    let loadingMarkup = null;\n\n    if (progressivelyHydrated && !startedHydrated) {\n      loadingMarkup = /*#__PURE__*/React.createElement(Loader, {\n        defer: deferHydration,\n        load: load,\n        props: props\n      });\n    } else if (loading) {\n      loadingMarkup = /*#__PURE__*/React.createElement(Loader, {\n        defer: defer,\n        load: load,\n        props: props\n      });\n    }\n\n    let contentMarkup = null;\n    const rendered = Component ? /*#__PURE__*/React.createElement(Component, props) : null;\n\n    if (progressivelyHydrated && !startedHydrated) {\n      contentMarkup = rendered ? /*#__PURE__*/React.createElement(Hydrator, {\n        id: resolver.id\n      }, rendered) : /*#__PURE__*/React.createElement(Hydrator, {\n        id: resolver.id\n      });\n    } else if (loading) {\n      contentMarkup = renderLoading(props);\n    } else {\n      contentMarkup = rendered;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, contentMarkup, loadingMarkup);\n  }\n\n  Async.displayName = `Async(${componentName})`;\n\n  function usePreload(props) {\n    const {\n      load\n    } = useAsync(resolver, {\n      assets: AssetTiming.NextPage\n    });\n    const customPreload = useCustomPreload(props);\n    return useCallback(() => {\n      load();\n\n      if (customPreload) {\n        customPreload();\n      }\n    }, [load, customPreload]);\n  }\n\n  function usePrefetch(props) {\n    const {\n      load\n    } = useAsync(resolver, {\n      assets: AssetTiming.NextPage\n    });\n    const customPrefetch = useCustomPrefetch(props);\n    return useCallback(() => {\n      load();\n\n      if (customPrefetch) {\n        customPrefetch();\n      }\n    }, [load, customPrefetch]);\n  }\n\n  function useKeepFresh(props) {\n    const {\n      load\n    } = useAsync(resolver, {\n      assets: AssetTiming.NextPage\n    });\n    const customKeepFresh = useCustomKeepFresh(props);\n    return useCallback(() => {\n      load();\n\n      if (customKeepFresh) {\n        customKeepFresh();\n      }\n    }, [load, customKeepFresh]);\n  }\n\n  function Preload(options) {\n    useIdleCallback(usePreload(options));\n    return null;\n  }\n\n  Preload.displayName = `Async.Preload(${displayName})`;\n\n  function Prefetch(options) {\n    const prefetch = usePrefetch(options);\n    useEffect(() => {\n      prefetch();\n    }, [prefetch]);\n    return null;\n  }\n\n  Prefetch.displayName = `Async.Prefetch(${displayName})`;\n\n  function KeepFresh(options) {\n    useIdleCallback(useKeepFresh(options));\n    return null;\n  }\n\n  KeepFresh.displayName = `Async.KeepFresh(${displayName})`;\n  const FinalComponent = Async;\n  Reflect.defineProperty(FinalComponent, 'resolver', {\n    value: resolver,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Preload', {\n    value: Preload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Prefetch', {\n    value: Prefetch,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'KeepFresh', {\n    value: KeepFresh,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'usePreload', {\n    value: usePreload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'usePrefetch', {\n    value: usePrefetch,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'useKeepFresh', {\n    value: useKeepFresh,\n    writable: false\n  });\n  return FinalComponent;\n}\n\nfunction noopUse() {\n  return () => {};\n}\n\nfunction noopRender() {\n  return null;\n}\n\nconst DEFAULT_DISPLAY_NAME = 'Component';\nconst FILENAME_REGEX = /([^/]*)\\.\\w+$/;\n\nfunction displayNameFromId(id) {\n  if (!id) {\n    return DEFAULT_DISPLAY_NAME;\n  }\n\n  const match = FILENAME_REGEX.exec(id);\n  return match ? match[1] : DEFAULT_DISPLAY_NAME;\n}\n\nfunction defaultRenderError(error) {\n  if (error) {\n    throw error;\n  }\n\n  return null;\n}\n\nfunction Loader({\n  defer,\n  load,\n  props\n}) {\n  const handleIntersection = useCallback(({\n    isIntersecting = true\n  }) => {\n    if (isIntersecting) {\n      load();\n    }\n  }, [load]);\n  useEffect(() => {\n    if (defer == null || defer === DeferTiming.Mount) {\n      load();\n    } else if (typeof defer === 'function' && defer(props)) {\n      load();\n    }\n  }, [defer, load, props]);\n\n  if (typeof defer === 'function') {\n    return null;\n  }\n\n  switch (defer) {\n    case DeferTiming.Idle:\n      return /*#__PURE__*/React.createElement(OnIdle, {\n        perform: load\n      });\n\n    case DeferTiming.InViewport:\n      return /*#__PURE__*/React.createElement(IntersectionObserver, {\n        threshold: 0,\n        onIntersectionChange: handleIntersection\n      });\n\n    default:\n      return null;\n  }\n}\n\nexport { createAsyncComponent };\n","import React from 'react';\nimport { AssetTiming } from '../types.esnext';\n\nconst EFFECT_ID = Symbol('react-async');\nclass AsyncAssetManager {\n  constructor() {\n    this.effect = {\n      id: EFFECT_ID,\n      betweenEachPass: () => {\n        this.assets.clear();\n      }\n    };\n    this.assets = new Map();\n  }\n\n  used(timing = AssetTiming.Immediate) {\n    const timingArray = Array.isArray(timing) ? timing : [timing];\n    const assets = [];\n\n    for (const [asset, {\n      scripts,\n      styles\n    }] of this.assets) {\n      const scriptsMatch = timingArray.includes(scripts);\n      const stylesMatch = timingArray.includes(styles);\n\n      if (stylesMatch || scriptsMatch) {\n        assets.push({\n          id: asset,\n          scripts: scriptsMatch,\n          styles: stylesMatch\n        });\n      }\n    }\n\n    return assets;\n  }\n\n  markAsUsed(id, timing = AssetTiming.Immediate) {\n    const current = this.assets.get(id);\n    const scripts = typeof timing === 'object' ? timing.scripts : timing;\n    const styles = typeof timing === 'object' ? timing.styles : timing;\n\n    if (current == null) {\n      this.assets.set(id, {\n        scripts: scripts || AssetTiming.Immediate,\n        styles: styles || AssetTiming.Immediate\n      });\n    } else {\n      this.assets.set(id, {\n        // the AssetTiming enum has values where the smallest value is\n        // the lowest importance load, and the highest value is for assets\n        // needed immediately. So, when a new asset comes in that has\n        // already been recorded, we can take the maximum value to\n        // keep only the highest priority timing for the asset.\n        scripts: Math.max(scripts || current.scripts, current.styles),\n        styles: Math.max(styles || current.styles, current.styles)\n      });\n    }\n  }\n\n}\nconst AsyncAssetContext = /*#__PURE__*/React.createContext(null);\n\nexport { AsyncAssetContext, AsyncAssetManager, EFFECT_ID };\n","import React from 'react';\n\nclass PrefetchManager {\n  constructor(registered) {\n    this.registered = void 0;\n    this.registered = new Set(registered);\n  }\n\n  register(registration) {\n    this.registered.add(registration);\n    return () => this.registered.delete(registration);\n  }\n\n}\nconst PrefetchContext = /*#__PURE__*/React.createContext(new PrefetchManager());\n\nexport { PrefetchContext, PrefetchManager };\n","import { useState, useCallback, useContext } from 'react';\nimport { useServerEffect } from '@shopify/react-effect';\nimport { useMountedRef } from '@shopify/react-hooks';\nimport { AsyncAssetContext } from './context/assets.esnext';\n\nfunction usePreload(...args) {\n  const [preloadable, options = {}] = args;\n  return preloadable.usePreload(options);\n}\nfunction usePrefetch(...args) {\n  const [prefetchable, options = {}] = args;\n  return prefetchable.usePrefetch(options);\n}\nfunction useKeepFresh(...args) {\n  const [keepFreshable, options = {}] = args;\n  return keepFreshable.useKeepFresh(options);\n}\nfunction useAsync(resolver, {\n  assets,\n  scripts = assets,\n  styles = assets,\n  immediate = true\n} = {}) {\n  const [value, setValue] = useState(() => immediate || typeof window !== 'undefined' ? resolver.resolved : null);\n  const mounted = useMountedRef();\n  const load = useCallback(async () => {\n    if (value != null) {\n      return value;\n    }\n\n    try {\n      const resolved = await resolver.resolve();\n\n      if (mounted.current) {\n        // It's important to use the function form of setValue here.\n        // Resolved is going to be a function in most cases, since it's\n        // a React component. If you do not set it using the function form,\n        // React treats the component as the function that returns state,\n        // so it sets state with the result of manually calling the component\n        // (so, usually JSX).\n        setValue(() => resolved);\n      }\n\n      return resolved;\n    } catch (error) {\n      if (mounted.current) {\n        setValue(error);\n      }\n\n      return error;\n    }\n  }, [mounted, resolver, value]);\n  const {\n    id\n  } = resolver;\n  useAsyncAsset(id, {\n    scripts,\n    styles\n  });\n  return value instanceof Error ? {\n    id,\n    resolved: null,\n    error: value,\n    loading: false,\n    load\n  } : {\n    id,\n    resolved: value,\n    error: null,\n    loading: value == null,\n    load\n  };\n}\nfunction useAsyncAsset(id, {\n  scripts,\n  styles\n} = {}) {\n  const async = useContext(AsyncAssetContext);\n  useServerEffect(() => {\n    if (async && id) {\n      async.markAsUsed(id, {\n        scripts,\n        styles\n      });\n    }\n  }, async === null || async === void 0 ? void 0 : async.effect);\n}\n\nexport { useAsync, useAsyncAsset, useKeepFresh, usePrefetch, usePreload };\n","export { DeferTiming } from '@shopify/async';\nexport { AssetTiming } from './types.esnext';\nexport { useAsync, useAsyncAsset, useKeepFresh, usePrefetch, usePreload } from './hooks.esnext';\nexport { Prefetcher } from './Prefetcher.esnext';\nexport { PrefetchRoute } from './PrefetchRoute.esnext';\nexport { createAsyncComponent } from './component.esnext';\nexport { createAsyncContext } from './provider.esnext';\nexport { AsyncAssetContext, AsyncAssetManager } from './context/assets.esnext';\nexport { PrefetchContext, PrefetchManager } from './context/prefetch.esnext';\n","import React, { useEffect } from 'react';\nimport { createResolver } from '@shopify/async';\nimport { useIdleCallback } from '@shopify/react-idle';\nimport { useAsync } from './hooks.esnext';\nimport { AssetTiming } from './types.esnext';\n\nfunction createAsyncContext({\n  id,\n  load\n}) {\n  const resolver = createResolver({\n    id,\n    load\n  });\n  const Context = /*#__PURE__*/React.createContext(null); // Just like a \"normal\" value returned from `createContext`, rendering\n  // the value itself is not supported. This component is just a placeholder\n  // to provide a more useful error.\n\n  function Root() {\n    throw new Error('Do not attempt to render the result of calling `createAsyncContext()` directly. Render its `.Provider` component instead.');\n  }\n\n  function Provider(props) {\n    const {\n      load,\n      resolved\n    } = useAsync(resolver, {\n      assets: AssetTiming.Immediate\n    });\n    useEffect(() => {\n      load();\n    }, [load]);\n    return /*#__PURE__*/React.createElement(Context.Provider, Object.assign({\n      value: resolved\n    }, props));\n  }\n\n  function Consumer(props) {\n    return /*#__PURE__*/React.createElement(Context.Consumer, props);\n  }\n\n  function usePreload() {\n    return useAsync(resolver, {\n      assets: AssetTiming.NextPage\n    }).load;\n  }\n\n  function Preload() {\n    const preload = usePreload();\n    useIdleCallback(preload);\n    return null;\n  }\n\n  function Prefetch() {\n    const preload = usePreload();\n    useEffect(() => {\n      preload();\n    }, [preload]);\n    return null;\n  }\n\n  const FinalComponent = Root;\n  Reflect.defineProperty(FinalComponent, 'resolver', {\n    value: resolver,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Provider', {\n    value: Provider,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Consumer', {\n    value: Consumer,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Context', {\n    value: Context,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Preload', {\n    value: Preload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'Prefetch', {\n    value: Prefetch,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'KeepFresh', {\n    value: Preload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'usePreload', {\n    value: usePreload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'usePrefetch', {\n    value: usePreload,\n    writable: false\n  });\n  Reflect.defineProperty(FinalComponent, 'useKeepFresh', {\n    value: usePreload,\n    writable: false\n  });\n  return FinalComponent;\n}\n\nexport { createAsyncContext };\n","let AssetTiming;\n\n(function (AssetTiming) {\n  AssetTiming[AssetTiming[\"None\"] = 1] = \"None\";\n  AssetTiming[AssetTiming[\"NextPage\"] = 2] = \"NextPage\";\n  AssetTiming[AssetTiming[\"CurrentPage\"] = 3] = \"CurrentPage\";\n  AssetTiming[AssetTiming[\"Immediate\"] = 4] = \"Immediate\";\n})(AssetTiming || (AssetTiming = {}));\n\nexport { AssetTiming };\n","export * from \"./build/esnext/index.esnext\";","export { createServer } from './server/server.esnext';\nexport { createRender } from './render/render.esnext';\nexport { requestLogger } from './logger/logger.esnext';\n","import chalk from 'chalk';\nimport { Header } from '@shopify/react-network';\n\n/* eslint-disable no-process-env */\nconst LOGGER = Symbol('logger');\nconst PREFIX = chalk.underline('[React Server] ');\nclass Logger {\n  constructor() {\n    this.buffer = '';\n    this.logger = console;\n  }\n\n  log(message) {\n    if (process.env.NODE_ENV === 'development') {\n      this.logger.log(`${PREFIX}${message}`);\n    } else {\n      this.buffer = `${this.buffer}\\n${message}`;\n    }\n  }\n\n}\nfunction setLogger(ctx, logger) {\n  ctx.state[LOGGER] = logger;\n}\nfunction getLogger(ctx) {\n  return ctx.state[LOGGER];\n}\n\nfunction initialRequestMessage(request) {\n  const requestMethod = `${request.method.toUpperCase()} \"${request.url}\"`;\n  return `Started ${requestMethod} at ${new Date().toISOString()}`;\n}\n\nfunction endRequestMessage(ctx, requestDuration) {\n  const httpStatus = `${ctx.status} ${ctx.message || ''}`;\n  const duration = `${requestDuration.toFixed(0)}ms`;\n  return `Completed ${httpStatus} at ${new Date().toISOString()} in ${duration}`;\n}\n\nfunction endRequest(ctx, requestDuration) {\n  const logger = getLogger(ctx);\n  logger.log(endRequestMessage(ctx, requestDuration));\n\n  if (process.env.NODE_ENV === 'development') {\n    return;\n  }\n  /* eslint-disable @typescript-eslint/naming-convention */\n\n\n  const logObject = {\n    datetime: new Date().toISOString(),\n    http_method: ctx.method.toUpperCase(),\n    http_response: ctx.message || '',\n    http_status: ctx.status,\n    hostname: ctx.request.hostname,\n    ips: ctx.request.ips,\n    request_id: ctx.header['X-Request-ID'],\n    uri: ctx.originalUrl,\n    user_agent: ctx.header[Header.UserAgent],\n    payload: logger.buffer\n  };\n  /* eslint-enable @typescript-eslint/naming-convention */\n  // eslint-disable-next-line no-console\n\n  console.log(JSON.stringify(logObject, undefined, process.env.NODE_ENV === 'production' ? undefined : 2));\n}\n\nfunction requestDuration(requestStartTime) {\n  const duration = process.hrtime(requestStartTime);\n  const ms = duration[0] * 1000 + duration[1] / 1e6;\n  return Math.round(ms);\n}\n\nasync function requestLogger(ctx, next) {\n  const requestStartTime = process.hrtime();\n  setLogger(ctx, new Logger());\n  const logger = getLogger(ctx);\n  logger.log(initialRequestMessage(ctx.request));\n\n  try {\n    await next();\n  } catch (error) {\n    logger.log('Error during server execution, see details below.');\n    logger.log(`${error.stack || error.message || 'No stack trace was present'}`);\n  } finally {\n    endRequest(ctx, requestDuration(requestStartTime));\n  }\n}\n\nexport { LOGGER, Logger, getLogger, requestLogger, setLogger };\n","import compose from 'koa-compose';\n\nconst MILLIS_PER_SECOND = 1000;\nconst NANOS_PER_MILLIS = 1e6;\nconst START_TIME_STATE_KEY = Symbol('startTime');\n\nasync function startRequestTiming(ctx, next) {\n  ctx.state[START_TIME_STATE_KEY] = process.hrtime();\n  await next();\n}\n\nasync function middleware(ctx, next) {\n  try {\n    await next();\n  } finally {\n    const [seconds, nanoseconds] = process.hrtime(ctx.state[START_TIME_STATE_KEY]);\n    const ms = seconds * MILLIS_PER_SECOND + nanoseconds / NANOS_PER_MILLIS;\n    const requestTime = Math.round(ms);\n    const uiMetrics = `ui;request_time=${requestTime}`;\n    ctx.set('Server-Timing', uiMetrics);\n  }\n}\n\nconst metricsMiddleware = compose([startRequestTiming, middleware]);\n\nexport { metricsMiddleware };\n","import { StatusCode } from '@shopify/network';\n\nfunction ping(ctx) {\n  ctx.status = StatusCode.Ok;\n  ctx.body = 'Pong';\n}\n\nexport { ping };\n","const HEADER = 'x-quilt-data';\nasync function quiltDataMiddleware(ctx, next) {\n  const rawQuiltData = ctx.headers && ctx.headers[HEADER];\n\n  if (rawQuiltData) {\n    ctx.state.quiltData = JSON.parse(rawQuiltData);\n  }\n\n  await next();\n}\n\nexport { HEADER, quiltDataMiddleware };\n","const fallbackErrorMarkup = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n    <link\n      rel=\"stylesheet\"\n      href=\"https://unpkg.com/@shopify/polaris@4.24.0/styles.min.css\"\n    />\n    <title>Server Error</title>\n  </head>\n  <body>\n    <div\n      style=\"\n        --top-bar-background: #00848e;\n        --top-bar-background-lighter: #1d9ba4;\n        --top-bar-color: #f9fafb;\n        --p-frame-offset: 0px;\n      \"\n    >\n      <div class=\"Polaris-Page Polaris-Page--fullWidth\">\n        <div class=\"Polaris-Page__Content\">\n          <div\n            style=\"\n              --top-bar-background: #00848e;\n              --top-bar-background-lighter: #1d9ba4;\n              --top-bar-color: #f9fafb;\n              --p-frame-offset: 0px;\n            \"\n          >\n            <div class=\"Polaris-EmptyState Polaris-EmptyState--withinPage\">\n              <div class=\"Polaris-EmptyState__Section\">\n                <div class=\"Polaris-EmptyState__DetailsContainer\">\n                  <div class=\"Polaris-EmptyState__Details\">\n                    <div class=\"Polaris-TextContainer\">\n                      <p\n                        class=\"Polaris-DisplayText Polaris-DisplayText--sizeMedium\"\n                      >\n                      This page is not available right now\n                      </p>\n                      <div class=\"Polaris-EmptyState__Content\">\n                        <p>\n                          Please check back later.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"Polaris-EmptyState__ImageContainer\">\n                  <img\n                    src=\"https://cdn.shopify.com/shopifycloud/web-foundation/images/error.svg\"\n                    role=\"presentation\"\n                    alt=\"\"\n                    class=\"Polaris-EmptyState__Image\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n`;\n\nexport { fallbackErrorMarkup };\n","import { join } from 'path';\nimport { existsSync } from 'fs';\nimport React from 'react';\nimport compose from 'koa-compose';\nimport { HtmlManager, HtmlContext, stream, Html, render } from '@shopify/react-html/server';\nimport { useSerialized } from '@shopify/react-html';\nimport { NetworkManager, applyToContext, NetworkContext } from '@shopify/react-network/server';\nimport { extract } from '@shopify/react-effect/server';\nimport { HydrationManager, HydrationContext } from '@shopify/react-hydrate';\nimport { AsyncAssetManager, AssetTiming, AsyncAssetContext } from '@shopify/react-async';\nimport { Header, StatusCode } from '@shopify/react-network';\nimport { middleware, getAssets } from '@shopify/sewing-kit-koa';\nimport { quiltDataMiddleware } from '../quilt-data/middleware.esnext';\nimport { getLogger } from '../logger/logger.esnext';\nimport { fallbackErrorMarkup } from './error/fallback-error-markup.esnext';\n\n/**\n * Creates a Koa middleware for rendering an `@shopify/react-html` based React application defined by `render`.\n * @param render\n * @param options\n */\nfunction createRender(render$1, options = {}) {\n  const manifestPath = getManifestPath(process.cwd());\n  const {\n    assetPrefix,\n    assetName: assetNameInput = 'main',\n    renderError,\n    renderRawErrorMessage,\n    htmlProps: htmlPropsInput = {}\n  } = options;\n\n  async function renderFunction(ctx) {\n    const assetName = typeof assetNameInput === 'function' ? assetNameInput(ctx) : assetNameInput;\n    const {\n      scripts: additionalScripts = [],\n      styles: additionalStyles = [],\n      ...additionalHtmlProps\n    } = typeof htmlPropsInput === 'function' ? htmlPropsInput(ctx) : htmlPropsInput;\n    const logger = getLogger(ctx) || console;\n    const assets = getAssets(ctx);\n    const networkManager = new NetworkManager({\n      headers: ctx.headers,\n      cookies: ctx.request.headers.cookie || ''\n    });\n    const htmlManager = new HtmlManager();\n    const asyncAssetManager = new AsyncAssetManager();\n    const hydrationManager = new HydrationManager();\n\n    function Providers({\n      children\n    }) {\n      const [, Serialize] = useSerialized('quilt-data');\n      return /*#__PURE__*/React.createElement(AsyncAssetContext.Provider, {\n        value: asyncAssetManager\n      }, /*#__PURE__*/React.createElement(HydrationContext.Provider, {\n        value: hydrationManager\n      }, /*#__PURE__*/React.createElement(NetworkContext.Provider, {\n        value: networkManager\n      }, children, /*#__PURE__*/React.createElement(Serialize, {\n        data: () => ctx.state.quiltData\n      }))));\n    }\n\n    try {\n      const app = render$1(ctx);\n      await extract(app, {\n        decorate(element) {\n          return /*#__PURE__*/React.createElement(HtmlContext.Provider, {\n            value: htmlManager\n          }, /*#__PURE__*/React.createElement(Providers, null, element));\n        },\n\n        afterEachPass({\n          renderDuration,\n          resolveDuration,\n          index,\n          finished\n        }) {\n          const pass = `Pass number ${index} ${finished ? ' (this was the final pass)' : ''}`;\n          const rendering = `Rendering took ${renderDuration}ms`;\n          const resolving = `Resolving promises took ${resolveDuration}ms`;\n          logger.log(pass);\n          logger.log(rendering);\n          logger.log(resolving);\n        },\n\n        ...options\n      });\n      applyToContext(ctx, networkManager);\n      const immediateAsyncAssets = asyncAssetManager.used(AssetTiming.Immediate);\n      const [styles, scripts] = await Promise.all([assets.styles({\n        name: assetName,\n        asyncAssets: immediateAsyncAssets\n      }), assets.scripts({\n        name: assetName,\n        asyncAssets: immediateAsyncAssets\n      })]);\n      styles.push(...additionalStyles);\n      scripts.push(...additionalScripts);\n      const response = stream( /*#__PURE__*/React.createElement(Html, Object.assign({}, additionalHtmlProps, {\n        manager: htmlManager,\n        styles: styles,\n        scripts: scripts\n      }), /*#__PURE__*/React.createElement(Providers, null, app)));\n      ctx.set(Header.ContentType, 'text/html');\n      ctx.body = response;\n    } catch (error) {\n      const errorMessage = `React server-side rendering error:\\n${error.stack || error.message}`;\n      logger.log(errorMessage);\n      ctx.status = StatusCode.InternalServerError;\n      ctx.state.quiltError = error;\n\n      if (renderRawErrorMessage) {\n        ctx.body = errorMessage;\n      } else {\n        if (renderError) {\n          const [styles, scripts] = await Promise.all([assets.styles({\n            name: 'error'\n          }), assets.scripts({\n            name: 'error'\n          })]);\n          const response = render( /*#__PURE__*/React.createElement(Html, {\n            manager: htmlManager,\n            styles: styles,\n            scripts: scripts\n          }, renderError(ctx)));\n          ctx.body = response;\n        } else {\n          ctx.body = fallbackErrorMarkup;\n          ctx.set(Header.ContentType, 'text/html');\n        }\n\n        ctx.throw(StatusCode.InternalServerError, error);\n      }\n    }\n  }\n\n  return compose([quiltDataMiddleware, middleware({\n    assetPrefix,\n    manifestPath\n  }), renderFunction]);\n}\n\nfunction getManifestPath(root) {\n  const gemFileExists = existsSync(join(root, 'Gemfile'));\n\n  if (!gemFileExists) {\n    return;\n  } // eslint-disable-next-line no-process-env\n\n\n  return process.env.NODE_ENV === 'development' ? `tmp/sewing-kit/sewing-kit-manifest.json` : `public/bundles/sewing-kit-manifest.json`;\n}\n\nexport { createRender };\n","import 'cross-fetch';\nimport Koa from 'koa';\nimport compose from 'koa-compose';\nimport mount from 'koa-mount';\nimport { ping } from '../ping/ping.esnext';\nimport { requestLogger } from '../logger/logger.esnext';\nimport { metricsMiddleware } from '../metrics/metrics.esnext';\nimport { createRender } from '../render/render.esnext';\n\nconst logger = console;\n\n/**\n * Create a full Koa server for server rendering an `@shopify/react-html` based React application defined by `options.render`\n * @param options\n * @returns a Server instance\n */\nfunction createServer(options) {\n  const {\n    /* eslint-disable no-process-env */\n    ip = process.env.REACT_SERVER_IP && process.env.REACT_SERVER_IP !== 'undefined' ? process.env.REACT_SERVER_IP : '0.0.0.0',\n    port = process.env.REACT_SERVER_PORT && process.env.REACT_SERVER_PORT !== 'undefined' ? parseInt(process.env.REACT_SERVER_PORT, 10) : 8081,\n    // a default is set in sewingKitMiddleware\n    assetPrefix = process.env.CDN_URL && process.env.CDN_URL !== 'undefined' ? process.env.CDN_URL : undefined,\n    render,\n    renderError,\n    renderRawErrorMessage = process.env.NODE_ENV === 'development',\n\n    /* eslint-enable no-process-env */\n    serverMiddleware,\n    assetName,\n    htmlProps,\n    proxy = false,\n    app = new Koa()\n  } = options;\n  app.proxy = proxy;\n  app.use(mount('/services/ping', ping));\n  app.use(requestLogger);\n  app.use(metricsMiddleware);\n\n  if (serverMiddleware) {\n    app.use(compose(serverMiddleware));\n  }\n\n  app.use(createRender(render, {\n    assetPrefix,\n    assetName,\n    renderError,\n    renderRawErrorMessage,\n    htmlProps\n  }));\n  return app.listen(port, ip, () => {\n    logger.log(`started react-server on ${ip}:${port}`);\n  });\n}\n\nexport { createServer };\n","export * from \"./build/esnext/index.esnext\";","require('./').install();\n","var SourceMapConsumer = require('source-map').SourceMapConsumer;\nvar path = require('path');\n\nvar fs;\ntry {\n  fs = require('fs');\n  if (!fs.existsSync || !fs.readFileSync) {\n    // fs doesn't have all methods we need\n    fs = null;\n  }\n} catch (err) {\n  /* nop */\n}\n\nvar bufferFrom = require('buffer-from');\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param {NodeModule} mod\n * @param {string} request\n */\nfunction dynamicRequire(mod, request) {\n  return mod.require(request);\n}\n\n// Only install once if called multiple times\nvar errorFormatterInstalled = false;\nvar uncaughtShimInstalled = false;\n\n// If true, the caches are reset before a stack trace formatting operation\nvar emptyCacheBetweenOperations = false;\n\n// Supports {browser, node, auto}\nvar environment = \"auto\";\n\n// Maps a file path to a string containing the file contents\nvar fileContentsCache = {};\n\n// Maps a file path to a source map for that file\nvar sourceMapCache = {};\n\n// Regex for detecting source maps\nvar reSourceMap = /^data:application\\/json[^,]+base64,/;\n\n// Priority list of retrieve handlers\nvar retrieveFileHandlers = [];\nvar retrieveMapHandlers = [];\n\nfunction isInBrowser() {\n  if (environment === \"browser\")\n    return true;\n  if (environment === \"node\")\n    return false;\n  return ((typeof window !== 'undefined') && (typeof XMLHttpRequest === 'function') && !(window.require && window.module && window.process && window.process.type === \"renderer\"));\n}\n\nfunction hasGlobalProcessEventEmitter() {\n  return ((typeof process === 'object') && (process !== null) && (typeof process.on === 'function'));\n}\n\nfunction globalProcessVersion() {\n  if ((typeof process === 'object') && (process !== null)) {\n    return process.version;\n  } else {\n    return '';\n  }\n}\n\nfunction globalProcessStderr() {\n  if ((typeof process === 'object') && (process !== null)) {\n    return process.stderr;\n  }\n}\n\nfunction globalProcessExit(code) {\n  if ((typeof process === 'object') && (process !== null) && (typeof process.exit === 'function')) {\n    return process.exit(code);\n  }\n}\n\nfunction handlerExec(list) {\n  return function(arg) {\n    for (var i = 0; i < list.length; i++) {\n      var ret = list[i](arg);\n      if (ret) {\n        return ret;\n      }\n    }\n    return null;\n  };\n}\n\nvar retrieveFile = handlerExec(retrieveFileHandlers);\n\nretrieveFileHandlers.push(function(path) {\n  // Trim the path to make sure there is no extra whitespace.\n  path = path.trim();\n  if (/^file:/.test(path)) {\n    // existsSync/readFileSync can't handle file protocol, but once stripped, it works\n    path = path.replace(/file:\\/\\/\\/(\\w:)?/, function(protocol, drive) {\n      return drive ?\n        '' : // file:///C:/dir/file -> C:/dir/file\n        '/'; // file:///root-dir/file -> /root-dir/file\n    });\n  }\n  if (path in fileContentsCache) {\n    return fileContentsCache[path];\n  }\n\n  var contents = '';\n  try {\n    if (!fs) {\n      // Use SJAX if we are in the browser\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', path, /** async */ false);\n      xhr.send(null);\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        contents = xhr.responseText;\n      }\n    } else if (fs.existsSync(path)) {\n      // Otherwise, use the filesystem\n      contents = fs.readFileSync(path, 'utf8');\n    }\n  } catch (er) {\n    /* ignore any errors */\n  }\n\n  return fileContentsCache[path] = contents;\n});\n\n// Support URLs relative to a directory, but be careful about a protocol prefix\n// in case we are in the browser (i.e. directories may start with \"http://\" or \"file:///\")\nfunction supportRelativeURL(file, url) {\n  if (!file) return url;\n  var dir = path.dirname(file);\n  var match = /^\\w+:\\/\\/[^\\/]*/.exec(dir);\n  var protocol = match ? match[0] : '';\n  var startPath = dir.slice(protocol.length);\n  if (protocol && /^\\/\\w\\:/.test(startPath)) {\n    // handle file:///C:/ paths\n    protocol += '/';\n    return protocol + path.resolve(dir.slice(protocol.length), url).replace(/\\\\/g, '/');\n  }\n  return protocol + path.resolve(dir.slice(protocol.length), url);\n}\n\nfunction retrieveSourceMapURL(source) {\n  var fileData;\n\n  if (isInBrowser()) {\n     try {\n       var xhr = new XMLHttpRequest();\n       xhr.open('GET', source, false);\n       xhr.send(null);\n       fileData = xhr.readyState === 4 ? xhr.responseText : null;\n\n       // Support providing a sourceMappingURL via the SourceMap header\n       var sourceMapHeader = xhr.getResponseHeader(\"SourceMap\") ||\n                             xhr.getResponseHeader(\"X-SourceMap\");\n       if (sourceMapHeader) {\n         return sourceMapHeader;\n       }\n     } catch (e) {\n     }\n  }\n\n  // Get the URL of the source map\n  fileData = retrieveFile(source);\n  var re = /(?:\\/\\/[@#][\\s]*sourceMappingURL=([^\\s'\"]+)[\\s]*$)|(?:\\/\\*[@#][\\s]*sourceMappingURL=([^\\s*'\"]+)[\\s]*(?:\\*\\/)[\\s]*$)/mg;\n  // Keep executing the search to find the *last* sourceMappingURL to avoid\n  // picking up sourceMappingURLs from comments, strings, etc.\n  var lastMatch, match;\n  while (match = re.exec(fileData)) lastMatch = match;\n  if (!lastMatch) return null;\n  return lastMatch[1];\n};\n\n// Can be overridden by the retrieveSourceMap option to install. Takes a\n// generated source filename; returns a {map, optional url} object, or null if\n// there is no source map.  The map field may be either a string or the parsed\n// JSON object (ie, it must be a valid argument to the SourceMapConsumer\n// constructor).\nvar retrieveSourceMap = handlerExec(retrieveMapHandlers);\nretrieveMapHandlers.push(function(source) {\n  var sourceMappingURL = retrieveSourceMapURL(source);\n  if (!sourceMappingURL) return null;\n\n  // Read the contents of the source map\n  var sourceMapData;\n  if (reSourceMap.test(sourceMappingURL)) {\n    // Support source map URL as a data url\n    var rawData = sourceMappingURL.slice(sourceMappingURL.indexOf(',') + 1);\n    sourceMapData = bufferFrom(rawData, \"base64\").toString();\n    sourceMappingURL = source;\n  } else {\n    // Support source map URLs relative to the source URL\n    sourceMappingURL = supportRelativeURL(source, sourceMappingURL);\n    sourceMapData = retrieveFile(sourceMappingURL);\n  }\n\n  if (!sourceMapData) {\n    return null;\n  }\n\n  return {\n    url: sourceMappingURL,\n    map: sourceMapData\n  };\n});\n\nfunction mapSourcePosition(position) {\n  var sourceMap = sourceMapCache[position.source];\n  if (!sourceMap) {\n    // Call the (overrideable) retrieveSourceMap function to get the source map.\n    var urlAndMap = retrieveSourceMap(position.source);\n    if (urlAndMap) {\n      sourceMap = sourceMapCache[position.source] = {\n        url: urlAndMap.url,\n        map: new SourceMapConsumer(urlAndMap.map)\n      };\n\n      // Load all sources stored inline with the source map into the file cache\n      // to pretend like they are already loaded. They may not exist on disk.\n      if (sourceMap.map.sourcesContent) {\n        sourceMap.map.sources.forEach(function(source, i) {\n          var contents = sourceMap.map.sourcesContent[i];\n          if (contents) {\n            var url = supportRelativeURL(sourceMap.url, source);\n            fileContentsCache[url] = contents;\n          }\n        });\n      }\n    } else {\n      sourceMap = sourceMapCache[position.source] = {\n        url: null,\n        map: null\n      };\n    }\n  }\n\n  // Resolve the source URL relative to the URL of the source map\n  if (sourceMap && sourceMap.map && typeof sourceMap.map.originalPositionFor === 'function') {\n    var originalPosition = sourceMap.map.originalPositionFor(position);\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    if (originalPosition.source !== null) {\n      originalPosition.source = supportRelativeURL(\n        sourceMap.url, originalPosition.source);\n      return originalPosition;\n    }\n  }\n\n  return position;\n}\n\n// Parses code generated by FormatEvalOrigin(), a function inside V8:\n// https://code.google.com/p/v8/source/browse/trunk/src/messages.js\nfunction mapEvalOrigin(origin) {\n  // Most eval() calls are in this format\n  var match = /^eval at ([^(]+) \\((.+):(\\d+):(\\d+)\\)$/.exec(origin);\n  if (match) {\n    var position = mapSourcePosition({\n      source: match[2],\n      line: +match[3],\n      column: match[4] - 1\n    });\n    return 'eval at ' + match[1] + ' (' + position.source + ':' +\n      position.line + ':' + (position.column + 1) + ')';\n  }\n\n  // Parse nested eval() calls using recursion\n  match = /^eval at ([^(]+) \\((.+)\\)$/.exec(origin);\n  if (match) {\n    return 'eval at ' + match[1] + ' (' + mapEvalOrigin(match[2]) + ')';\n  }\n\n  // Make sure we still return useful information if we didn't find anything\n  return origin;\n}\n\n// This is copied almost verbatim from the V8 source code at\n// https://code.google.com/p/v8/source/browse/trunk/src/messages.js. The\n// implementation of wrapCallSite() used to just forward to the actual source\n// code of CallSite.prototype.toString but unfortunately a new release of V8\n// did something to the prototype chain and broke the shim. The only fix I\n// could find was copy/paste.\nfunction CallSiteToString() {\n  var fileName;\n  var fileLocation = \"\";\n  if (this.isNative()) {\n    fileLocation = \"native\";\n  } else {\n    fileName = this.getScriptNameOrSourceURL();\n    if (!fileName && this.isEval()) {\n      fileLocation = this.getEvalOrigin();\n      fileLocation += \", \";  // Expecting source position to follow.\n    }\n\n    if (fileName) {\n      fileLocation += fileName;\n    } else {\n      // Source code does not originate from a file and is not native, but we\n      // can still get the source position inside the source string, e.g. in\n      // an eval string.\n      fileLocation += \"<anonymous>\";\n    }\n    var lineNumber = this.getLineNumber();\n    if (lineNumber != null) {\n      fileLocation += \":\" + lineNumber;\n      var columnNumber = this.getColumnNumber();\n      if (columnNumber) {\n        fileLocation += \":\" + columnNumber;\n      }\n    }\n  }\n\n  var line = \"\";\n  var functionName = this.getFunctionName();\n  var addSuffix = true;\n  var isConstructor = this.isConstructor();\n  var isMethodCall = !(this.isToplevel() || isConstructor);\n  if (isMethodCall) {\n    var typeName = this.getTypeName();\n    // Fixes shim to be backward compatable with Node v0 to v4\n    if (typeName === \"[object Object]\") {\n      typeName = \"null\";\n    }\n    var methodName = this.getMethodName();\n    if (functionName) {\n      if (typeName && functionName.indexOf(typeName) != 0) {\n        line += typeName + \".\";\n      }\n      line += functionName;\n      if (methodName && functionName.indexOf(\".\" + methodName) != functionName.length - methodName.length - 1) {\n        line += \" [as \" + methodName + \"]\";\n      }\n    } else {\n      line += typeName + \".\" + (methodName || \"<anonymous>\");\n    }\n  } else if (isConstructor) {\n    line += \"new \" + (functionName || \"<anonymous>\");\n  } else if (functionName) {\n    line += functionName;\n  } else {\n    line += fileLocation;\n    addSuffix = false;\n  }\n  if (addSuffix) {\n    line += \" (\" + fileLocation + \")\";\n  }\n  return line;\n}\n\nfunction cloneCallSite(frame) {\n  var object = {};\n  Object.getOwnPropertyNames(Object.getPrototypeOf(frame)).forEach(function(name) {\n    object[name] = /^(?:is|get)/.test(name) ? function() { return frame[name].call(frame); } : frame[name];\n  });\n  object.toString = CallSiteToString;\n  return object;\n}\n\nfunction wrapCallSite(frame, state) {\n  // provides interface backward compatibility\n  if (state === undefined) {\n    state = { nextPosition: null, curPosition: null }\n  }\n  if(frame.isNative()) {\n    state.curPosition = null;\n    return frame;\n  }\n\n  // Most call sites will return the source file from getFileName(), but code\n  // passed to eval() ending in \"//# sourceURL=...\" will return the source file\n  // from getScriptNameOrSourceURL() instead\n  var source = frame.getFileName() || frame.getScriptNameOrSourceURL();\n  if (source) {\n    var line = frame.getLineNumber();\n    var column = frame.getColumnNumber() - 1;\n\n    // Fix position in Node where some (internal) code is prepended.\n    // See https://github.com/evanw/node-source-map-support/issues/36\n    // Header removed in node at ^10.16 || >=11.11.0\n    // v11 is not an LTS candidate, we can just test the one version with it.\n    // Test node versions for: 10.16-19, 10.20+, 12-19, 20-99, 100+, or 11.11\n    var noHeader = /^v(10\\.1[6-9]|10\\.[2-9][0-9]|10\\.[0-9]{3,}|1[2-9]\\d*|[2-9]\\d|\\d{3,}|11\\.11)/;\n    var headerLength = noHeader.test(globalProcessVersion()) ? 0 : 62;\n    if (line === 1 && column > headerLength && !isInBrowser() && !frame.isEval()) {\n      column -= headerLength;\n    }\n\n    var position = mapSourcePosition({\n      source: source,\n      line: line,\n      column: column\n    });\n    state.curPosition = position;\n    frame = cloneCallSite(frame);\n    var originalFunctionName = frame.getFunctionName;\n    frame.getFunctionName = function() {\n      if (state.nextPosition == null) {\n        return originalFunctionName();\n      }\n      return state.nextPosition.name || originalFunctionName();\n    };\n    frame.getFileName = function() { return position.source; };\n    frame.getLineNumber = function() { return position.line; };\n    frame.getColumnNumber = function() { return position.column + 1; };\n    frame.getScriptNameOrSourceURL = function() { return position.source; };\n    return frame;\n  }\n\n  // Code called using eval() needs special handling\n  var origin = frame.isEval() && frame.getEvalOrigin();\n  if (origin) {\n    origin = mapEvalOrigin(origin);\n    frame = cloneCallSite(frame);\n    frame.getEvalOrigin = function() { return origin; };\n    return frame;\n  }\n\n  // If we get here then we were unable to change the source position\n  return frame;\n}\n\n// This function is part of the V8 stack trace API, for more info see:\n// https://v8.dev/docs/stack-trace-api\nfunction prepareStackTrace(error, stack) {\n  if (emptyCacheBetweenOperations) {\n    fileContentsCache = {};\n    sourceMapCache = {};\n  }\n\n  var name = error.name || 'Error';\n  var message = error.message || '';\n  var errorString = name + \": \" + message;\n\n  var state = { nextPosition: null, curPosition: null };\n  var processedStack = [];\n  for (var i = stack.length - 1; i >= 0; i--) {\n    processedStack.push('\\n    at ' + wrapCallSite(stack[i], state));\n    state.nextPosition = state.curPosition;\n  }\n  state.curPosition = state.nextPosition = null;\n  return errorString + processedStack.reverse().join('');\n}\n\n// Generate position and snippet of original source with pointer\nfunction getErrorSource(error) {\n  var match = /\\n    at [^(]+ \\((.*):(\\d+):(\\d+)\\)/.exec(error.stack);\n  if (match) {\n    var source = match[1];\n    var line = +match[2];\n    var column = +match[3];\n\n    // Support the inline sourceContents inside the source map\n    var contents = fileContentsCache[source];\n\n    // Support files on disk\n    if (!contents && fs && fs.existsSync(source)) {\n      try {\n        contents = fs.readFileSync(source, 'utf8');\n      } catch (er) {\n        contents = '';\n      }\n    }\n\n    // Format the line from the original source code like node does\n    if (contents) {\n      var code = contents.split(/(?:\\r\\n|\\r|\\n)/)[line - 1];\n      if (code) {\n        return source + ':' + line + '\\n' + code + '\\n' +\n          new Array(column).join(' ') + '^';\n      }\n    }\n  }\n  return null;\n}\n\nfunction printErrorAndExit (error) {\n  var source = getErrorSource(error);\n\n  // Ensure error is printed synchronously and not truncated\n  var stderr = globalProcessStderr();\n  if (stderr && stderr._handle && stderr._handle.setBlocking) {\n    stderr._handle.setBlocking(true);\n  }\n\n  if (source) {\n    console.error();\n    console.error(source);\n  }\n\n  console.error(error.stack);\n  globalProcessExit(1);\n}\n\nfunction shimEmitUncaughtException () {\n  var origEmit = process.emit;\n\n  process.emit = function (type) {\n    if (type === 'uncaughtException') {\n      var hasStack = (arguments[1] && arguments[1].stack);\n      var hasListeners = (this.listeners(type).length > 0);\n\n      if (hasStack && !hasListeners) {\n        return printErrorAndExit(arguments[1]);\n      }\n    }\n\n    return origEmit.apply(this, arguments);\n  };\n}\n\nvar originalRetrieveFileHandlers = retrieveFileHandlers.slice(0);\nvar originalRetrieveMapHandlers = retrieveMapHandlers.slice(0);\n\nexports.wrapCallSite = wrapCallSite;\nexports.getErrorSource = getErrorSource;\nexports.mapSourcePosition = mapSourcePosition;\nexports.retrieveSourceMap = retrieveSourceMap;\n\nexports.install = function(options) {\n  options = options || {};\n\n  if (options.environment) {\n    environment = options.environment;\n    if ([\"node\", \"browser\", \"auto\"].indexOf(environment) === -1) {\n      throw new Error(\"environment \" + environment + \" was unknown. Available options are {auto, browser, node}\")\n    }\n  }\n\n  // Allow sources to be found by methods other than reading the files\n  // directly from disk.\n  if (options.retrieveFile) {\n    if (options.overrideRetrieveFile) {\n      retrieveFileHandlers.length = 0;\n    }\n\n    retrieveFileHandlers.unshift(options.retrieveFile);\n  }\n\n  // Allow source maps to be found by methods other than reading the files\n  // directly from disk.\n  if (options.retrieveSourceMap) {\n    if (options.overrideRetrieveSourceMap) {\n      retrieveMapHandlers.length = 0;\n    }\n\n    retrieveMapHandlers.unshift(options.retrieveSourceMap);\n  }\n\n  // Support runtime transpilers that include inline source maps\n  if (options.hookRequire && !isInBrowser()) {\n    // Use dynamicRequire to avoid including in browser bundles\n    var Module = dynamicRequire(module, 'module');\n    var $compile = Module.prototype._compile;\n\n    if (!$compile.__sourceMapSupport) {\n      Module.prototype._compile = function(content, filename) {\n        fileContentsCache[filename] = content;\n        sourceMapCache[filename] = undefined;\n        return $compile.call(this, content, filename);\n      };\n\n      Module.prototype._compile.__sourceMapSupport = true;\n    }\n  }\n\n  // Configure options\n  if (!emptyCacheBetweenOperations) {\n    emptyCacheBetweenOperations = 'emptyCacheBetweenOperations' in options ?\n      options.emptyCacheBetweenOperations : false;\n  }\n\n  // Install the error reformatter\n  if (!errorFormatterInstalled) {\n    errorFormatterInstalled = true;\n    Error.prepareStackTrace = prepareStackTrace;\n  }\n\n  if (!uncaughtShimInstalled) {\n    var installHandler = 'handleUncaughtExceptions' in options ?\n      options.handleUncaughtExceptions : true;\n\n    // Do not override 'uncaughtException' with our own handler in Node.js\n    // Worker threads. Workers pass the error to the main thread as an event,\n    // rather than printing something to stderr and exiting.\n    try {\n      // We need to use `dynamicRequire` because `require` on it's own will be optimized by WebPack/Browserify.\n      var worker_threads = dynamicRequire(module, 'worker_threads');\n      if (worker_threads.isMainThread === false) {\n        installHandler = false;\n      }\n    } catch(e) {}\n\n    // Provide the option to not install the uncaught exception handler. This is\n    // to support other uncaught exception handlers (in test frameworks, for\n    // example). If this handler is not installed and there are no other uncaught\n    // exception handlers, uncaught exceptions will be caught by node's built-in\n    // exception handler and the process will still be terminated. However, the\n    // generated JavaScript code will be shown above the stack trace instead of\n    // the original source code.\n    if (installHandler && hasGlobalProcessEventEmitter()) {\n      uncaughtShimInstalled = true;\n      shimEmitUncaughtException();\n    }\n  }\n};\n\nexports.resetRetrieveHandlers = function() {\n  retrieveFileHandlers.length = 0;\n  retrieveMapHandlers.length = 0;\n\n  retrieveFileHandlers = originalRetrieveFileHandlers.slice(0);\n  retrieveMapHandlers = originalRetrieveMapHandlers.slice(0);\n\n  retrieveSourceMap = handlerExec(retrieveMapHandlers);\n  retrieveFile = handlerExec(retrieveFileHandlers);\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = require(\"@shopify/network\");","module.exports = require(\"@shopify/react-effect\");","module.exports = require(\"@shopify/react-effect/server\");","module.exports = require(\"@shopify/react-hooks\");","module.exports = require(\"@shopify/react-html\");","module.exports = require(\"@shopify/react-html/server\");","module.exports = require(\"@shopify/react-hydrate\");","module.exports = require(\"@shopify/react-idle\");","module.exports = require(\"@shopify/react-intersection-observer\");","module.exports = require(\"@shopify/react-network\");","module.exports = require(\"@shopify/react-network/server\");","module.exports = require(\"@shopify/sewing-kit-koa\");","module.exports = require(\"antd\");","module.exports = require(\"buffer-from\");","module.exports = require(\"chalk\");","module.exports = require(\"cross-fetch\");","module.exports = require(\"fs\");","module.exports = require(\"koa\");","module.exports = require(\"koa-compose\");","module.exports = require(\"koa-mount\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"source-map\");"],"sourceRoot":""}